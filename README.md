# Ilcha Project

## Ilcha 프로젝트 Back-end 소개

- 음료 브랜드 공차 👉[Gongcha](https://www.gong-cha.co.kr/brand/)를 모바일 앱을 참고하여 클론코딩 하였습니다.
- 모바일 웹 시장이 확대됨에 따라 모바일 유저들의 편의성을 고려하여 유저 위치기반 모바일 웹 주문기능을 구현하였습니다.

### 개발 인원 및 기간

- 개발기간 : 2022.9.19 ~ 2022.9.30
- 개발 인원 : 프론트엔드 3명, 백엔드 1명
- 프론트 엔드 : 박찬영, 이고운, 이다익
- 백엔드 : 전준영
- 📌[프론트엔드 github 링크](https://github.com/wecode-bootcamp-korea/justcode-6-2nd-team1-front)
- 📌[노션링크](https://www.notion.so/wecode/1-1fddf5f2f4d244799041fa0129519fe3)

### DB모델링



![디비](https://user-images.githubusercontent.com/108918591/193575330-1cda24d1-f5ed-4bcd-9388-465661feefea.png)


### 데모 영상(이미지 클릭)
[![일차](https://user-images.githubusercontent.com/108918591/193575662-94c5ceb6-ee84-4cf0-84c0-f4e29008de3b.png)](https://youtu.be/pkfz51tCebQ)


### 역할 분담
**전준영(BE)**
- 회원가입 API
- 로그인 API
- 카카오로그인 API
- 음료 데이터 불러오기 API
- 상세페이지 API
- 리뷰 API
- 장바구니 API
- 주문관련 API
- 검색 API
- 매장관련 API

## 적용 기술 및 구현기능

### 적용 기술

> - Back-End : express, axios, jsonwebtoken, typeorm, mysql, bcryptjs
> - Common : RESTful API, git, github

### 구현기능

#### 회원가입 및 로그인
  1.회원가입
  - 아이디와 비밀번호 값을 프론트로부터 받아와 DB에 저장하는 API
  - 아이디 중복체크기능 및 비밀번호를 암호화하는 기능입니다.
  2. 로그인
  - 저장된 유저의 아이디와 패스워드가 동일한지 확인하고 일치하지 않을시에 실패 메세지와 상태코드를 반환합니다.
  - 로그인에 성공하게 되면 성공했다는 메세지와 함깨 인가에 필요한 jwt 토큰을 반환합니다.
#### 카카오 로그인 
  - 카카오를 이용하여 로그인하는 API
  - 프론트에서 카카오측 서버에 인가코드로 요청을 보내면 엑세스토큰을 받아오고 그 엑세스토큰을 백엔드쪽으로 전달하면 백엔드서버와 카카오 서버가 통신하여 사용자 정보를 받아와
  우리측 서버에서 로그인 로직을 실행합니다.  
#### 음료 데이터 불러오기
  - 음료 정보를 불러오는 API
  - 카테고리를 클릭했을 시에 해당 카테고리에 해당하는 음료의 정보를 불러오는 기능입니다.
#### 상세페이지
  - 음료의 상세페이지데이터를 불러오고 상세페이지내에서 주문하고 결제하는 API
  - 상세페이지로 들어가 음료를 커스터마이징하고 주문하기버튼을 누르면 상세페이지 내에서 주문이 가능합니다. 하지만 주문중인 상태에서 결제로 넘어가지않고 오랜시간 입력이없다면 해당 주문 번호는 데이터베이스에서 삭제합니다.
#### 리뷰
  - 해당 음료에 대한 후기를 작성하는 API
  - 해당 음료에 대한 별점과 내용을 작성하여 생성하고 삭제하는 기능입니다.
#### 주문관련
  - 주문 내역에 대한 API
  - 유저가 주문했던 내역을 불러오고 현재 결제완료한 상태라면 해당 주문을 취소할 수 있는 API 입니다. (현재 주문취소에 대한 조건은 없는 상태입니다.)
#### 검색
  - 음료에 대한 검색API
  - 음료를 검색하게되면 해당 키워드가 들어간 음료에 데이터를 반환하는 기능입니다.
#### - 매장관련
  - 매장에 대한 데이터를 전부 불러오는 API, 현재 유저위치를 받아 2km 이내의 가까운 매장을 추천해주는 API, 추천한 매장중 선택된 매장을 유저에게 매칭시키는 API
  1. 매장에 대한 데이터를 전부 불러오는 API
  - 프론트에서 지도API 사용을 위해 매장에 대한 데이터를 요청하면 매장 데이터를 반환하는 기능입니다.
  2. 현재 유저위치를 받아 2km 이내의 가까운 매장을 추천해주는 API
  - 유저에게 위치정보 동의를 구해 위치를 전송받으면 해당 유저의 위치에서 2km 이내의 매장을 가까운순으로 추천해줍니다.
  3. 추천한 매장중 선택된 매장을 유저에게 매칭시키는 API
  - 추천된 매장중 선택된 매장을 유저에게 매칭시켜줍니다.

## API명세

📌 [BE 전준영 API명세](https://documenter.getpostman.com/view/22723440/2s7Z7WpafH)

## Reference

- 이 프로젝트는 [공차](https://www.gong-cha.co.kr/brand/) 사이트 및 모바일 어플리케이션을 참조하여 학습목적으로 만들었습니다.
- 학습용으로 만들었기 때문에 이 코드를 활용하여 이득을 취하거나 무단 배포할 경우 법적으로 문제될 수 있습니다.

